(()=>{"use strict";var e={},n=[],t=e=>e,r=n.map,o=Array.isArray,l="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout,i=e=>{var n="";if("string"==typeof e)return e;if(o(e))for(var t,r=0;r<e.length;r++)(t=i(e[r]))&&(n+=(n&&" ")+t);else for(var r in e)e[r]&&(n+=(n&&" ")+r);return n},u=(e,n)=>{for(var t in{...e,...n})if("function"==typeof(o(n[t]=e[t])?n[t][0]:n[t]));else if(e[t]!==n[t])return!0},a=e=>null==e?e:e.key,f=(e,n,t,r,o,l)=>{if("key"===n);else if("style"===n)for(var u in{...t,...r})t=null==r||null==r[u]?"":r[u],"-"===u[0]?e[n].setProperty(u,t):e[n][u]=t;else"o"===n[0]&&"n"===n[1]?((e.tag||(e.tag={}))[n=n.slice(2)]=r)?t||e.addEventListener(n,o):e.removeEventListener(n,o):!l&&"list"!==n&&"form"!==n&&n in e?e[n]=null==r?"":r:null==r||!1===r||"class"===n&&!(r=i(r))?e.removeAttribute(n):e.setAttribute(n,r)},s=(e,n,t)=>{var r=e.props,o=3===e.tag?document.createTextNode(e.type):(t=t||"svg"===e.type)?document.createElementNS("http://www.w3.org/2000/svg",e.type,{is:r.is}):document.createElement(e.type,{is:r.is});for(var l in r)f(o,l,null,r[l],n,t);for(var i=0;i<e.children.length;i++)o.appendChild(s(e.children[i]=d(e.children[i]),n,t));return e.node=o},c=(e,n,t,r,o,l)=>{if(t===r);else if(null!=t&&3===t.tag&&3===r.tag)t.type!==r.type&&(n.nodeValue=r.type);else if(null==t||t.type!==r.type)n=e.insertBefore(s(r=d(r),o,l),n),null!=t&&e.removeChild(t.node);else{var i,u,p,v,m=t.props,y=r.props,g=t.children,h=r.children,b=0,O=0,w=g.length-1,j=h.length-1;for(var P in l=l||"svg"===r.type,{...m,...y})("value"===P||"selected"===P||"checked"===P?n[P]:m[P])!==y[P]&&f(n,P,m[P],y[P],o,l);for(;O<=j&&b<=w&&null!=(p=a(g[b]))&&p===a(h[O]);)c(n,g[b].node,g[b],h[O]=d(h[O++],g[b++]),o,l);for(;O<=j&&b<=w&&null!=(p=a(g[w]))&&p===a(h[j]);)c(n,g[w].node,g[w],h[j]=d(h[j--],g[w--]),o,l);if(b>w)for(;O<=j;)n.insertBefore(s(h[O]=d(h[O++]),o,l),(u=g[b])&&u.node);else if(O>j)for(;b<=w;)n.removeChild(g[b++].node);else{var k={},A={};for(P=b;P<=w;P++)null!=(p=g[P].key)&&(k[p]=g[P]);for(;O<=j;)p=a(u=g[b]),v=a(h[O]=d(h[O],u)),A[p]||null!=v&&v===a(g[b+1])?(null==p&&n.removeChild(u.node),b++):null==v||1===t.tag?(null==p&&(c(n,u&&u.node,u,h[O],o,l),O++),b++):(p===v?(c(n,u.node,u,h[O],o,l),A[v]=!0,b++):null!=(i=k[v])?(c(n,n.insertBefore(i.node,u&&u.node),i,h[O],o,l),A[v]=!0):c(n,u&&u.node,null,h[O],o,l),O++);for(;b<=w;)null==a(u=g[b++])&&n.removeChild(u.node);for(var P in k)null==A[P]&&n.removeChild(k[P].node)}}return r.node=n},d=(e,n)=>!0!==e&&!1!==e&&e?"function"==typeof e.tag?((!n||null==n.memo||((e,n)=>{for(var t in e)if(e[t]!==n[t])return!0;for(var t in n)if(e[t]!==n[t])return!0})(n.memo,e.memo))&&((n=e.tag(e.memo)).memo=e.memo),n):e:m(""),p=n=>3===n.nodeType?m(n.nodeValue,n):v(n.nodeName.toLowerCase(),e,r.call(n.childNodes,p),n,null,1),v=(e,n,t,r,o,l)=>({type:e,props:n,children:t,node:r,key:o,tag:l}),m=(t,r)=>v(t,e,n,r,null,3),y=(e,t,r)=>v(e,t,o(r)?r:null==r?n:[r],null,t.key);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){b(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var O=function(e){return h(h({},e),{},{todos:e.todos.concat(e.value)})},w=function(e,n){return h(h({},e),{},{value:n.target.value})};(e=>{var n,r,i=e.view,a=e.node,f=e.subscriptions,s=a&&p(a),d=[],v=e=>{r!==e&&(r=e,f&&(d=((e,n,t)=>{for(var r,o,l=[],i=0;i<e.length||i<n.length;i++)r=e[i],o=n[i],l.push(o&&!0!==o?!r||o[0]!==r[0]||u(o[1],r[1])?[o[0],o[1],o[0](t,o[1]),r&&r[2]()]:r:r&&r[2]());return l})(d,f(r),m)),i&&!n&&l(g,n=!0))},m=(e.middleware||t)(((e,n)=>"function"==typeof e?m(e(r,n)):o(e)?"function"==typeof e[0]?m(e[0],e[1]):e.slice(1).map((e=>e&&!0!==e&&e[0](m,e[1])),v(e[0])):v(e))),y=function(e){m(this.tag[e.type],e)},g=()=>a=c(a.parentNode,a,s,s=i(r),y,n=!1);m(e.init)})({init:{todos:[],value:""},view:function(e){var n=e.todos,t=e.value;return y("main",null,y("input",{type:"text",oninput:w,value:t}),y("button",{onclick:O},"Add"),y("ul",null,n.map((function(e){return y("li",null,e)}))))},node:document.getElementById("app")})})();